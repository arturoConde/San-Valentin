<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>üíò ¬øMi San Valent√≠n?</title>
  <style>
    :root{
      --bg1:#0f0c29; --bg2:#302b63; --bg3:#24243e;
      --card: rgba(255,255,255,.10);
      --stroke: rgba(255,255,255,.18);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --accent:#ff4d8d;
      --accent2:#ff9ac2;
      --shadow: 0 18px 55px rgba(0,0,0,.45);
      --radius: 26px;
    }
    *{ box-sizing: border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      color: var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(255,77,141,.28), transparent 55%),
        radial-gradient(900px 600px at 90% 20%, rgba(255,154,194,.22), transparent 55%),
        linear-gradient(120deg, var(--bg1), var(--bg2), var(--bg3));
      overflow:hidden;
      padding: 18px;
    }
    .glow{
      position:absolute; inset:-80px;
      background: radial-gradient(circle at 50% 30%, rgba(255,77,141,.12), transparent 60%);
      filter: blur(12px);
      animation: drift 10s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes drift{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-18px)} }

    .card{
      width:min(560px, 92vw);
      background: var(--card);
      border: 1px solid var(--stroke);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position: relative;
    }
    .top{
      display:flex;
      gap:14px;
      align-items:center;
      padding: 18px 18px 12px;
    }
    .photo{
      width: 82px; height: 82px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.25);
      overflow:hidden;
      flex: 0 0 auto;
      box-shadow: 0 10px 22px rgba(0,0,0,.25);
      background: rgba(255,255,255,.06);
    }
    .photo img{
      width:100%; height:100%; object-fit:cover; display:block;
      transform: scale(1.02);
    }
    .titles h1{
      margin:0;
      font-size: 22px;
      line-height: 1.2;
      letter-spacing:.2px;
    }
    .titles p{
      margin:6px 0 0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.35;
    }

    .mid{
      padding: 8px 18px 18px;
      text-align:center;
    }
    .heart{
      font-size: 56px;
      margin: 10px 0 6px;
      display:inline-block;
      filter: drop-shadow(0 10px 18px rgba(255,77,141,.25));
      animation: beat 1.25s ease-in-out infinite;
      transform-origin: center;
    }
    @keyframes beat{
      0%,100%{ transform: scale(1); }
      50%{ transform: scale(1.10); }
    }
    .question{
      margin: 6px 0 0;
      font-size: 28px;
      letter-spacing: .2px;
    }
    .sub{
      margin: 10px auto 0;
      max-width: 44ch;
      color: var(--muted);
      font-size: 15px;
      line-height: 1.45;
    }

    .controls{
      display:flex;
      gap: 10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 14px;
    }
    .pill{
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.08);
      color: var(--text);
      padding: 10px 14px;
      border-radius: 999px;
      font-size: 14px;
      cursor:pointer;
      box-shadow: 0 10px 18px rgba(0,0,0,.18);
      transition: transform .12s ease, background .2s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .pill:active{ transform: scale(.98); }
    .pill.primary{
      border: 1px solid rgba(255,77,141,.55);
      background: linear-gradient(135deg, rgba(255,77,141,.95), rgba(255,154,194,.85));
      color: #140a10;
      font-weight: 650;
    }

    .btnArea{
      position: relative;
      margin: 16px auto 8px;
      width: min(520px, 90%);
      min-height: 120px;
      padding-bottom: 62px; /* espacio por si se mueve */
    }
    .btn{
      border: 0;
      padding: 12px 16px;
      border-radius: 999px;
      font-size: 16px;
      cursor: pointer;
      box-shadow: 0 14px 22px rgba(0,0,0,.25);
      transition: transform .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      white-space:nowrap;
    }
    .btn:active{ transform: scale(.98); }
    #yes{
      background: linear-gradient(135deg, #ff4d8d, #ff9ac2);
      color: #160b12;
      font-weight: 700;
    }
    #no{
      background: rgba(0,0,0,.55);
      color: rgba(255,255,255,.92);
      border: 1px solid rgba(255,255,255,.22);
      position: absolute;
    }

    .result{
      display:none;
      margin: 12px auto 0;
      width: min(520px, 92%);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      padding: 14px 14px;
      text-align:left;
    }
    .result h2{ margin:0 0 6px; font-size: 18px; }
    .result p{ margin: 0; color: var(--muted); line-height: 1.45; font-size: 14px; }
    .tiny{ margin-top: 10px; font-size: 12px; color: rgba(255,255,255,.60); }

    /* Corazones flotando */
    .float{
      position: fixed;
      left: 50%;
      bottom: -20px;
      font-size: 18px;
      opacity: .9;
      animation: rise var(--dur) linear forwards;
      pointer-events:none;
      filter: drop-shadow(0 10px 16px rgba(0,0,0,.22));
    }
    @keyframes rise{
      from{ transform: translate(-50%,0) scale(1); opacity:.95; }
      to{ transform: translate(calc(-50% + var(--x)), -120vh) scale(1.5); opacity:0; }
    }

    /* brillo sutil arriba */
    .shine{
      position:absolute; top:-120px; left:-120px;
      width: 320px; height: 320px;
      background: radial-gradient(circle, rgba(255,255,255,.22), transparent 60%);
      transform: rotate(25deg);
      filter: blur(10px);
      opacity: .6;
      pointer-events:none;
      animation: shineMove 9s ease-in-out infinite;
    }
    @keyframes shineMove{
      0%,100%{ transform: translate(0,0) rotate(25deg); opacity:.55;}
      50%{ transform: translate(80px,40px) rotate(25deg); opacity:.75;}
    }
  </style>
</head>

<body>
  <div class="glow"></div>

  <div class="card">
    <div class="shine"></div>

    <div class="top">
      <div class="photo">
    <img src="IMG-20260212-WA0022.jpg" alt="Foto" onerror="this.style.display='none'; this.parentElement.style.display='none';" />
 
      </div>
      <div class="titles">
        <h1>Para <span id="herName">Bachis Bachis TababachisüëÄ‚ù§Ô∏è</span> üíó</h1>
        <p>Una pregunta r√°pida‚Ä¶</p>
      </div>
    </div>

    <div class="mid">
      <div class="heart">üíò</div>
      <div class="question">¬øQuieres ser mi San Valent√≠n? o pato a male</div>
      <div class="sub">
        Te invito a movial tomel muto vel peliculas y comelnos jalashhh
      </div>

      <div class="controls">
        <button class="pill" id="musicBtn">‚ñ∂Ô∏è Reproducir m√∫sica</button>
        <button class="pill" id="photoTipBtn">üì∏ Si no sale la foto</button>
      </div>

      <div class="btnArea" id="area">
        <button class="btn" id="yes">Acepto üíñ</button>
        <button class="btn" id="no">No üòÖ</button>
      </div>

      <div class="result" id="result">
        <h2>¬°Siiiii! ü•∞</h2>
        <p>
          Me hiciste el d√≠a üíû<br>
          Ahora toca planear algo bonito juntos üòå‚ú®
        </p>
        <div class="tiny" id="time"></div>
      </div>

      <div class="tiny">no pueles apachar el no ya te toca chopoltalme de por vida</div>
    </div>
  </div>

  <!-- Audio: pon tu archivo "cancion.mp3" en el repo -->
  <audio id="bgm" src="Marcos_Menchaca_-_Viernes_13_(mp3.pm).mp3" preload="auto"></audio>


  <script>
    // ====== PERSONALIZA AQU√ç ======
    const NOMBRE = "Bachis Bachis TababachisüëÄ‚ù§Ô∏è"; // <-- c√°mbialo
    document.getElementById("herName").textContent = NOMBRE;

    const noBtn = document.getElementById('no');
    const yesBtn = document.getElementById('yes');
    const area = document.getElementById('area');
    const result = document.getElementById('result');
    const timeEl = document.getElementById('time');

    const bgm = document.getElementById('bgm');
    const musicBtn = document.getElementById('musicBtn');
    const photoTipBtn = document.getElementById('photoTipBtn');

    function placeNoInitial(){
      const r = area.getBoundingClientRect();
      // posici√≥n inicial bonita
      const x = r.width * 0.62;
      const y = 10;
      noBtn.style.left = x + 'px';
      noBtn.style.top  = y + 'px';
    }

    function moveNo(){
      const r = area.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      const pad = 8;
      const maxX = Math.max(pad, r.width - b.width - pad);
      const maxY = Math.max(pad, r.height - b.height - pad);

      const x = pad + Math.random() * (maxX - pad);
      const y = pad + Math.random() * (maxY - pad);

      noBtn.style.left = x + 'px';
      noBtn.style.top  = y + 'px';

      popHearts(7);
      // Vibraci√≥n ligera (Android s√≠, iPhone casi siempre no)
      navigator.vibrate?.(25);
    }

    function popHearts(n=6){
      for(let i=0;i<n;i++){
        const s = document.createElement('div');
        s.className = 'float';
        s.textContent = Math.random() > .5 ? 'üíó' : 'üíñ';
        s.style.setProperty('--x', (Math.random()*260 - 130) + 'px');
        s.style.setProperty('--dur', (2.4 + Math.random()*1.8) + 's');
        s.style.left = (Math.random()*100) + 'vw';
        s.style.fontSize = (16 + Math.random()*10) + 'px';
        document.body.appendChild(s);
        setTimeout(()=>s.remove(), 4500);
      }
    }

    // En m√≥vil (iPhone/Android) funciona mejor pointer/touch
    ['pointerdown','touchstart','mousedown'].forEach(evt=>{
      noBtn.addEventListener(evt, (e)=>{
        e.preventDefault();
        moveNo();
      }, {passive:false});
    });

    yesBtn.addEventListener('click', ()=>{
      result.style.display = 'block';
      popHearts(20);

      const d = new Date();
      timeEl.textContent = 'Aceptado el ' + d.toLocaleString('es-GT');

      yesBtn.disabled = true;
      noBtn.disabled = true;
      noBtn.style.opacity = .45;
      yesBtn.style.opacity = .92;
    });

    // M√∫sica (sin autoplay por iPhone)
    let playing = false;
    musicBtn.addEventListener('click', async ()=>{
      try{
        if(!playing){
          await bgm.play();
          playing = true;
          musicBtn.textContent = "‚è∏Ô∏è Pausar m√∫sica";
          popHearts(10);
        }else{
          bgm.pause();
          playing = false;
          musicBtn.textContent = "‚ñ∂Ô∏è Reproducir m√∫sica";
        }
      }catch(err){
        alert("Si no reproduce, revisa que el archivo se llame exactamente 'cancion.mp3' y est√© en el repo.");
      }
    });

    // Ayuda r√°pida por si no aparece la foto
    photoTipBtn.addEventListener('click', ()=>{
      alert("Sube una imagen llamada EXACTAMENTE 'foto.jpg' al repo (misma carpeta que index.html). Luego recarga la p√°gina.");
    });

    window.addEventListener('load', ()=>{
      placeNoInitial();
      popHearts(10);
    });
    window.addEventListener('resize', placeNoInitial);
  </script>
</body>
</html>

